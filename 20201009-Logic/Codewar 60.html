<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codewar #60</title>
</head>

<body>
    <script>
        console.log("Ex F:")
        function sangSoDep(m, l, n) {
            let ans = 0;
            let other = []
            while (m <= n) {
                let length = m.toString().length
                if (length == 1) {
                    m *= 2
                    if (m <= n && m >= l) ans++
                }
                if (m * length < 10 ** length && m * (1 + length) >= 10 ** length)
                    if (m * (1 + length) <= n) other.push(m)
                if (m * length >= 10 ** length) {
                    m *= (length + 1)
                    if (m <= n && m >= l) ans++
                }
                else {
                    m *= length
                    if (m <= n && m >= l) ans++
                }
            }
            return [ans, other]
        }
        // console.log(sangSoDep(40, 1594,3294))
        function sangSoDep2(m, l, n) {
            let ans = 0;
            let other = []
            m *= (1 + m.toString().length)
            if (m <= n && m >= l) ans++
            while (m <= n) {
                let length = m.toString().length
                if (m * length < 10 ** length && m * (1 + length) >= 10 ** length)
                    if (m * (1 + length) <= n) other.push(m)
                if (m * length >= 10 ** length) {
                    m *= (length + 1)
                    if (m <= n && m >= l) ans++
                }
                else {
                    m *= length
                    if (m <= n && m >= l) ans++
                }
            }
            return [ans, other]
        }
        // console.log(sangSoDep2(40, 1594,3294))
        function beautifulNumbers1(l, r) {
            let other = []
            let ans = 0
            for (let i = 5; i < 10; i++) {
                let arr = sangSoDep(i, l, r)
                ans += arr[0]
                arr[1].forEach((m) => {
                    other.push(m)
                })
            }
            while (other.length != 0) {
                let temp = Object.assign(other)
                other = []
                for (let i = 0; i < temp.length; i++) {
                    let arr = sangSoDep2(temp[i], l, r)
                    ans += arr[0]
                    for (let j = 0; j < arr[1].length; j++)
                        other.push(arr[1][j])
                }
            }
            if (l < 10) return ans + 10 - l
            else return ans
        }
        console.log(beautifulNumbers1(1594, 3294))

        function beautifulNumbers(l, r) {
            let origin = [5, 6, 7, 8, 9]
            let ans = 0
            for (let i = 10; i <= r; i++) {
                if (i % i.toString().length!=0) continue
                if (origin.includes(i / i.toString().length)) {
                    origin.push(i)
                    if (i >= l) ans++
                }
            }
            if (l<10) return ans + 10 - l
            return ans
        }
        console.log(beautifulNumbers(5, 15))
    </script>
</body>

</html>